<div class="panel">  
  <div class="nav">
    <nav class="navbar navbar-light bg-light">
      <div>
        <img height="35" width="40" src="assets\logo.png">
         <button class = "modifica" (click)="goToDashboard()">     Exigram</button>
      </div>
      <form class="form-inline">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
      <a class="notifiche">Notifiche</a>
      <button *ngIf="isLoaded()" class = "modifica" (click)="goToUser(user.userDto.username)">{{user.userDto.username}}</button>
      <button class = "modifica" (click)="logout()">Logout</button>
    </nav>
  </div> 

  <div class="tutto-modifica">
    <form class="form-Utente" (ngSubmit)="onSubmit()">

      <h3>Aggiorna Utente</h3>
      
      <div class="form-group">
        <img *ngIf="isLoaded()" class="foto" [src]="getSafeUrl()">
      </div>
      <div>
        <input type="file" (change)="onUploadChange($event)" class="fileInputProfile">
      </div>

      <div *ngIf="isLoaded()" class="form-group" style="margin-bottom: 0rem;">
        <input placeholder="Nome" type="text" minlength="5" class="form-control" id="firstName" required [(ngModel)]="user.firstName" name="firstName">
      </div>

      <div *ngIf="isLoaded()" class="form-group" style="margin-top: 1rem; margin-bottom: 0rem;">
        <input placeholder="Cognome" type="text" class="form-control" id="lastName" required [(ngModel)]="user.lastName" name="lastName">
      </div>

      <div *ngIf="submitted==true" class="error">
        <p>Errore nei parametri inseriti!</p>
      </div>

      <div *ngIf="isLoaded()" class="form-group" style="margin-top: 1rem;">
        <textarea placeholder="Biografia" type="text" class="form-control" id="biography" required [(ngModel)]="user.biography" name="biography"></textarea>
      </div>

      <button type="submit" class="btn btn-success">Conferma</button>
    </form>
    
    <form class="form-Password" (ngSubmit)="onSubmitPassword()">

      <h3>Aggiorna Password</h3>
      
      <div *ngIf="isLoaded()" class="form-group">
        <input placeholder="Inserisci la nuova password" type="password" class="form-control" id="password" required [(ngModel)]="user.userDto.password" name="password">
      </div>
      <div *ngIf="submittedPass==true" class="error">
        <p>Errore nei parametri inseriti!</p>
      </div>
        <button type="submit" class="btn btn-success">Conferma</button>
    </form>
  </div>
</div>